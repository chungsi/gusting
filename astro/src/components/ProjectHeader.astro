---
import type { CollectionEntry } from 'astro:content'
import clsx from 'clsx'
import CategoryIcon from './CategoryIcon.astro'

// Pass the project data as props?
type Props = { project: CollectionEntry<'projects'>['data'] }

const { project } = Astro.props as Props
const { title, category, subtitle, tags } = project
---

<header class='relative'>
  <CategoryIcon
    category={category}
    className='absolute w-7 -top-8 left-2 lg:w-8 lg:top-2 lg:left-[-4.5rem]'
  />
  <h1 class='relative inline-block mb-xs'>
    {title}
    <span class='font-mono italic font-light text-sm inline-block p-[0_1em]'>
      &#123;{category}&#125;
    </span>
    <!-- Decorative highlight -->
    <span
      aria-hidden
      class={clsx(
        'absolute block top-[-12px] left-[-10px] w-full h-full',
        'rotate-[-2deg] z-[-1] bg-th-highlight',
      )}></span>
  </h1>
  <p class='italic text-lg tracking-wider'>{subtitle}</p>
  <p class='text-sm'>
    {tags.map((tag) => `${tag} / `)}
  </p>
  <!-- TODO: Also a header image goes here? -->
</header>
